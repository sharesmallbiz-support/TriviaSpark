import{c as I,Q as C,r as o,j as e,m as M,P as f,t as F,x as m,i as x,L as p,T as B}from"./index-C8fLGFJh.js";import{B as H}from"./button-dYtoLpIz.js";import{u as P}from"./useQuery-DueBIpiR.js";import{B as T}from"./brain-C2VL5WdU.js";/**
 * @license lucide-react v0.542.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],z=I("bell",q);function Q(){return C.useSyncExternalStore($,()=>!0,()=>!1)}function $(){return()=>{}}var v="Avatar",[K,Y]=M(v),[W,w]=K(v),j=o.forwardRef((a,t)=>{const{__scopeAvatar:s,...n}=a,[i,r]=o.useState("idle");return e.jsx(W,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:e.jsx(f.span,{...n,ref:t})})});j.displayName=v;var y="AvatarImage",N=o.forwardRef((a,t)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:i=()=>{},...r}=a,c=w(y,s),l=G(n,r),d=F(u=>{i(u),c.onImageLoadingStatusChange(u)});return m(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?e.jsx(f.img,{...r,ref:t,src:n}):null});N.displayName=y;var A="AvatarFallback",S=o.forwardRef((a,t)=>{const{__scopeAvatar:s,delayMs:n,...i}=a,r=w(A,s),[c,l]=o.useState(n===void 0);return o.useEffect(()=>{if(n!==void 0){const d=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(d)}},[n]),c&&r.imageLoadingStatus!=="loaded"?e.jsx(f.span,{...i,ref:t}):null});S.displayName=A;function g(a,t){return a?t?(a.src!==t&&(a.src=t),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function G(a,{referrerPolicy:t,crossOrigin:s}){const n=Q(),i=o.useRef(null),r=n?(i.current||(i.current=new window.Image),i.current):null,[c,l]=o.useState(()=>g(r,a));return m(()=>{l(g(r,a))},[r,a]),m(()=>{const d=R=>()=>{l(R)};if(!r)return;const u=d("loaded"),h=d("error");return r.addEventListener("load",u),r.addEventListener("error",h),t&&(r.referrerPolicy=t),typeof s=="string"&&(r.crossOrigin=s),()=>{r.removeEventListener("load",u),r.removeEventListener("error",h)}},[r,s,t]),c}var b=j,L=N,E=S;const _=o.forwardRef(({className:a,...t},s)=>e.jsx(b,{ref:s,className:x("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...t}));_.displayName=b.displayName;const O=o.forwardRef(({className:a,...t},s)=>e.jsx(L,{ref:s,className:x("aspect-square h-full w-full",a),...t}));O.displayName=L.displayName;const k=o.forwardRef(({className:a,...t},s)=>e.jsx(E,{ref:s,className:x("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...t}));k.displayName=E.displayName;function V(){const{data:a}=P({queryKey:["/api/auth/me"],queryFn:B({on401:"returnNull"}),retry:!1}),t=a?.user?"/dashboard":"/";return e.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx(p,{href:t,children:e.jsx("div",{className:"flex items-center space-x-4 cursor-pointer","data-testid":"link-home",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-10 h-10 wine-gradient rounded-lg flex items-center justify-center mr-3",children:e.jsx(T,{className:"text-champagne-400 h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold wine-text","data-testid":"text-logo-title",children:"TriviaSpark"}),e.jsx("p",{className:"text-xs text-gray-500","data-testid":"text-logo-tagline",children:"A WebSpark Solution"})]})]})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(H,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-wine-700 transition-colors","data-testid":"button-notifications",children:e.jsx(z,{className:"h-5 w-5"})}),e.jsx(p,{href:"/profile",children:e.jsx(_,{className:"w-8 h-8 cursor-pointer hover:ring-2 hover:ring-wine-300 transition-all","data-testid":"avatar-user",children:e.jsx(k,{className:"wine-gradient text-white text-sm font-medium",children:"MH"})})})]})]})})})}const Z=Object.freeze(Object.defineProperty({__proto__:null,default:V},Symbol.toStringTag,{value:"Module"}));export{_ as A,V as H,k as a,Z as h};
