import{c as _,l as C,r as n,j as a,P as f,o as M,w as m,h as x,L as g,N as B}from"./index-GJ-gZReu.js";import{B as F}from"./button-DhDJwChb.js";import{u as H}from"./useQuery-Btm1LuuT.js";import{B as P}from"./brain-C_xih9JW.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=_("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var v="Avatar",[T,U]=C(v),[z,w]=T(v),j=n.forwardRef((e,t)=>{const{__scopeAvatar:s,...o}=e,[i,r]=n.useState("idle");return a.jsx(z,{scope:s,imageLoadingStatus:i,onImageLoadingStatusChange:r,children:a.jsx(f.span,{...o,ref:t})})});j.displayName=v;var y="AvatarImage",N=n.forwardRef((e,t)=>{const{__scopeAvatar:s,src:o,onLoadingStatusChange:i=()=>{},...r}=e,c=w(y,s),l=$(o,r),d=M(u=>{i(u),c.onImageLoadingStatusChange(u)});return m(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?a.jsx(f.img,{...r,ref:t,src:o}):null});N.displayName=y;var A="AvatarFallback",S=n.forwardRef((e,t)=>{const{__scopeAvatar:s,delayMs:o,...i}=e,r=w(A,s),[c,l]=n.useState(o===void 0);return n.useEffect(()=>{if(o!==void 0){const d=window.setTimeout(()=>l(!0),o);return()=>window.clearTimeout(d)}},[o]),c&&r.imageLoadingStatus!=="loaded"?a.jsx(f.span,{...i,ref:t}):null});S.displayName=A;function p(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function $(e,{referrerPolicy:t,crossOrigin:s}){const o=Q(),i=n.useRef(null),r=o?(i.current||(i.current=new window.Image),i.current):null,[c,l]=n.useState(()=>p(r,e));return m(()=>{l(p(r,e))},[r,e]),m(()=>{const d=I=>()=>{l(I)};if(!r)return;const u=d("loaded"),h=d("error");return r.addEventListener("load",u),r.addEventListener("error",h),t&&(r.referrerPolicy=t),typeof s=="string"&&(r.crossOrigin=s),()=>{r.removeEventListener("load",u),r.removeEventListener("error",h)}},[r,s,t]),c}function K(){return()=>{}}function Q(){return n.useSyncExternalStore(K,()=>!0,()=>!1)}var L=j,b=N,k=S;const E=n.forwardRef(({className:e,...t},s)=>a.jsx(L,{ref:s,className:x("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));E.displayName=L.displayName;const W=n.forwardRef(({className:e,...t},s)=>a.jsx(b,{ref:s,className:x("aspect-square h-full w-full",e),...t}));W.displayName=b.displayName;const R=n.forwardRef(({className:e,...t},s)=>a.jsx(k,{ref:s,className:x("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));R.displayName=k.displayName;function G(){const{data:e}=H({queryKey:["/api/auth/me"],queryFn:B({on401:"returnNull"}),retry:!1}),t=e!=null&&e.user?"/dashboard":"/";return a.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsx(g,{href:t,children:a.jsx("div",{className:"flex items-center space-x-4 cursor-pointer","data-testid":"link-home",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 wine-gradient rounded-lg flex items-center justify-center mr-3",children:a.jsx(P,{className:"text-champagne-400 h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold wine-text","data-testid":"text-logo-title",children:"TriviaSpark"}),a.jsx("p",{className:"text-xs text-gray-500","data-testid":"text-logo-tagline",children:"A WebSpark Solution"})]})]})})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(F,{variant:"ghost",size:"sm",className:"text-gray-600 hover:text-wine-700 transition-colors","data-testid":"button-notifications",children:a.jsx(q,{className:"h-5 w-5"})}),a.jsx(g,{href:"/profile",children:a.jsx(E,{className:"w-8 h-8 cursor-pointer hover:ring-2 hover:ring-wine-300 transition-all","data-testid":"avatar-user",children:a.jsx(R,{className:"wine-gradient text-white text-sm font-medium",children:"MH"})})})]})]})})})}const X=Object.freeze(Object.defineProperty({__proto__:null,default:G},Symbol.toStringTag,{value:"Module"}));export{E as A,G as H,R as a,X as h};
